<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">

    <!-- changeSet ids include the ticket number, with -n appended to allow multiple changeSets per ticket.
     Keep changeSets small, it's harder to recover from an error in a large changeSet.
      -->
<!--
    <changeSet id="GPLIM-55-1" author="thompson">
        <preConditions>
            <not>
                <tableExists tableName="test" schemaName="mercury"/>
            </not>
        </preConditions>
        <comment>Testing Liquibase</comment>
        <createTable tableName="test" schemaName="mercury">
            <column name="test_id" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="name" type="varchar(50)">
                <constraints nullable="false"/>
            </column>
            <column name="active" type="boolean" defaultValueBoolean="true"/>
        </createTable>
    </changeSet>
-->

    <changeSet id="GPLIM-65-1" author="hrafal">
        <!-- I ran what is in GPLIM-65-2, but messed things up in a way that required me to
             empty this and found out there is a checksum, so I added all the appropriate checks
             for existence in that one -->
    </changeSet>

    <changeSet id="GPLIM-65-2" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <columnExists tableName="research_project" columnName="irb_not_engaged" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="research_project">
            <column name="irb_not_engaged" type="number(1,0)"/>
        </addColumn>
        <addNotNullConstraint
                tableName="research_project"
                columnName="irb_not_engaged"
                defaultNullValue="0" />
    </changeSet>


    <changeSet id="GPLIM-65-3" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <indexExists tableName="research_project" indexName="ix_rp_jira" schemaName="athena"/>
            </not>
        </preConditions>
        <createIndex tableName="research_project" indexName="ix_rp_jira" schemaName="athena">
            <column name="jira_ticket_key"/>
        </createIndex>
    </changeSet>

    <changeSet id="GPLIM-65-4" author="hrafal">
        <preConditions>
            <not>
                <columnExists tableName="research_project_aud" columnName="irb_not_engaged" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="research_project_aud">
            <column name="irb_not_engaged" type="number(1,0)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-65-6" author="hrafal">
        <dropColumn tableName="research_project_aud" schemaName="athena" columnName="status"/>
        <addColumn tableName="research_project_aud" schemaName="athena">
            <column name="status" type="varchar(30)"/>
        </addColumn>
        <addNotNullConstraint tableName="research_project_aud" schemaName="athena" columnName="status" defaultNullValue="Open"/>
    </changeSet>

    <changeSet id="GPLIM-65-7" author="hrafal">
        <dropColumn tableName="research_project" schemaName="athena" columnName="status"/>
        <addColumn tableName="research_project" schemaName="athena">
            <column name="status" type="varchar(30)"/>
        </addColumn>
        <addNotNullConstraint tableName="research_project" schemaName="athena" columnName="status" defaultNullValue="Open"/>
    </changeSet>
    <changeSet id="GPLIM-45-1" author="scottmat">
        <preConditions>
            <and>
                <not>
                    <columnExists tableName="product_order" columnName="created_by" schemaName="athena" />
                </not>
                <not>
                    <columnExists tableName="product_order" columnName="modified_by" schemaName="athena" />
                </not>
                <not>
                    <columnExists tableName="product_order" columnName="created_date" schemaName="athena" />
                </not>
                <not>
                    <columnExists tableName="product_order" columnName="modified_date" schemaName="athena" />
                </not>
            </and>
        </preConditions>
        <addColumn tableName="product_order">
            <column name="created_by" type="DECIMAL(15,0)"/>
        </addColumn>
        <addColumn tableName="product_order">
            <column name="modified_by" type="DECIMAL(15,0)"/>
        </addColumn>
        <addColumn tableName="product_order">
            <column name="created_date" type="DATE"/>
        </addColumn>
        <addColumn tableName="product_order">
            <column name="modified_date" type="DATE"/>
        </addColumn>
    </changeSet>
    <changeSet id="GPLIM-69-1" author="mccrory">
        <!-- Needed for GPLIM-45 -->
        <modifyDataType tableName="product_order" schemaName="athena" columnName="modified_date" newDataType="timestamp"/>
        <modifyDataType tableName="product_order" schemaName="athena" columnName="created_date" newDataType="timestamp"/>
    </changeSet>

    <changeSet id="GPLIM-69-2" author="mccrory">
        <!-- Needed for GPLIM-45 -->
           <preConditions>
               <and>
                   <not>
                       <columnExists tableName="product_order_aud" columnName="created_by" schemaName="athena" />
                   </not>
                   <not>
                       <columnExists tableName="product_order_aud" columnName="modified_by" schemaName="athena" />
                   </not>
                   <not>
                       <columnExists tableName="product_order_aud" columnName="created_date" schemaName="athena" />
                   </not>
                   <not>
                       <columnExists tableName="product_order_aud" columnName="modified_date" schemaName="athena" />
                   </not>
               </and>
           </preConditions>
           <addColumn tableName="product_order_aud">
               <column name="created_by" type="DECIMAL(15,0)"/>
           </addColumn>
           <addColumn tableName="product_order_aud">
               <column name="modified_by" type="DECIMAL(15,0)"/>
           </addColumn>
           <addColumn tableName="product_order_aud">
               <column name="created_date" type="TIMESTAMP"/>
           </addColumn>
           <addColumn tableName="product_order_aud">
               <column name="modified_date" type="TIMESTAMP"/>
           </addColumn>
       </changeSet>

    <changeSet id="GPLIM-69-3" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <not>
                <indexExists tableName="product_order_sample" indexName="ix_pos_sample_name" schemaName="athena"/>
            </not>
        </preConditions>
        <createIndex tableName="product_order_sample" indexName="ix_pos_sample_name" schemaName="athena">
            <column name="sample_name"/>
        </createIndex>
    </changeSet>

    <changeSet id="GPLIM-69-4" author="mccrory">
        <preConditions>
            <not>
                <indexExists tableName="product_order_sample" indexName="ix_pos_product_order" schemaName="athena"/>
            </not>
        </preConditions>
        <createIndex tableName="product_order_sample" indexName="ix_pos_product_order" schemaName="athena">
            <column name="product_order"/>
        </createIndex>
    </changeSet>


    <changeSet id="GPLIM-69-5" author="mccrory">
        <dropColumn tableName="research_project_aud" schemaName="athena" columnName="status"/>
        <addColumn tableName="research_project_aud" schemaName="athena">
            <column name="status" type="varchar(30)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-90-1" author="hrafal">
        <modifyDataType tableName="research_project" schemaName="athena" columnName="SYNOPSIS" newDataType="varchar(4000)"/>
    </changeSet>

    <changeSet id="GPLIM-90-2" author="hrafal">
        <modifyDataType tableName="research_project_aud" schemaName="athena" columnName="SYNOPSIS" newDataType="varchar(4000)"/>
    </changeSet>

    <changeSet id="GPLIM-95-1" author="athomson">
        <preConditions onFail="MARK_RAN">
            <dbms type="oracle" />
            <runningAs username="ATHENA" />
        </preConditions>
        <createView viewName="PMB_RESEARCH_PROJECT" replaceIfExists="true">
            select research_project_id "RESEARCH_PROJECT_ID",
            title "RESEARCH_PROJECT_NAME",
            decode(CREATED_BY,
            10671,'burtt',
            10943,'carrie',
            10965,'caubin',
            10974,'dbmirel',
            13,'dfarlow',
            10637,'kmurray',
            11137,'laurena',
            11753,'mharden',
            11732,'namrata',
            11427,'shefler',
            12280,'ebevil',
            12398,'egelfand',
            12043,'enickers',
            13834,'rbell',
            'athomson') "CREATED_BY",
            created_date "CREATED_ON",
            decode(MODIFIED_BY,
            10671,'burtt',
            10943,'carrie',
            10965,'caubin',
            10974,'dbmirel',
            13,'dfarlow',
            10637,'kmurray',
            11137,'laurena',
            11753,'mharden',
            11732,'namrata',
            11427,'shefler',
            12280,'ebevil',
            12398,'egelfand',
            12043,'enickers',
            13834,'rbell',
            'athomson') "UPDATED_BY",
            modified_date "UPDATED_BY_ON"
            from research_project
        </createView>
        <rollback>
               <dropView viewName="PMB_RESEARCH_PROJECT"/>
        </rollback>
    </changeSet>

    <changeSet id="GPLIM-95-2" author="athomson">
    <sql>
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (249,10943,to_timestamp('2012/07/26','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/07/26','yyyy/mm/dd'),'Lung Adenocarcinoma CIP','Lung Adenocarcinoma CIP',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (248,11137,to_timestamp('2012/07/24','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/07/24','yyyy/mm/dd'),'Resistance - Kantoff','Resistance - Kantoff',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (250,11732,to_timestamp('2012/07/27','yyyy/mm/dd'),null,null,11732,to_timestamp('2012/07/27','yyyy/mm/dd'),'Germline Cancers (NHGRI)','Germline Cancers (NHGRI)',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (251,11137,to_timestamp('2012/07/27','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/07/27','yyyy/mm/dd'),'Resistance NHGRI CIP','Resistance NHGRI CIP',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (252,11137,to_timestamp('2012/08/03','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/08/03','yyyy/mm/dd'),'Kantoff Resistance','Kantoff Resistance',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (81,10974,to_timestamp('2011/12/19','yyyy/mm/dd'),null,null,10974,to_timestamp('2011/12/19','yyyy/mm/dd'),'Short Stature','Short Stature',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (382,12398,to_timestamp('2011/12/12','yyyy/mm/dd'),null,null,12398,to_timestamp('2011/12/12','yyyy/mm/dd'),'CCLE','CCLE',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (383,12398,to_timestamp('2011/12/12','yyyy/mm/dd'),null,null,12398,to_timestamp('2011/12/12','yyyy/mm/dd'),'GTEx','GTEx',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (101,11137,to_timestamp('2012/01/12','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/01/12','yyyy/mm/dd'),'SIGMA Pediatric','SIGMA Pediatric',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (102,11137,to_timestamp('2012/01/12','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/01/12','yyyy/mm/dd'),'SIGMA Cervical','SIGMA Cervical',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (103,11137,to_timestamp('2012/01/12','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/01/12','yyyy/mm/dd'),'SIGMA Sarcoma','SIGMA Sarcoma',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (104,11137,to_timestamp('2012/01/17','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/01/17','yyyy/mm/dd'),'Kwiatkowski LAM','Kwiatkowski LAM',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (105,11732,to_timestamp('2012/01/17','yyyy/mm/dd'),null,null,11732,to_timestamp('2012/01/17','yyyy/mm/dd'),'1000 Genomes','1000 Genomes',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (121,10943,to_timestamp('2012/02/02','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/02/02','yyyy/mm/dd'),'TCGA','TCGA',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (122,11732,to_timestamp('2012/02/03','yyyy/mm/dd'),null,null,11732,to_timestamp('2012/02/03','yyyy/mm/dd'),'Lipid Extremes','Lipid Extremes',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (123,11732,to_timestamp('2012/02/16','yyyy/mm/dd'),null,null,11732,to_timestamp('2012/02/16','yyyy/mm/dd'),'Germline Cancers (Starr)','Germline Cancers (Starr)',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (141,11427,to_timestamp('2012/03/08','yyyy/mm/dd'),null,null,11427,to_timestamp('2012/03/08','yyyy/mm/dd'),'Resistance CIP','Resistance CIP',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (142,13,to_timestamp('2012/03/09','yyyy/mm/dd'),null,null,13,to_timestamp('2012/03/09','yyyy/mm/dd'),'ESP-GO Exome Chip','ESP-GO Exome Chip',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (167,11732,to_timestamp('2012/04/19','yyyy/mm/dd'),null,null,11732,to_timestamp('2012/04/19','yyyy/mm/dd'),'Mendelian Consortium','Mendelian Consortium',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (168,10612,to_timestamp('2012/04/24','yyyy/mm/dd'),null,null,10612,to_timestamp('2012/04/24','yyyy/mm/dd'),'Autism','Autism',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (169,12043,to_timestamp('2012/04/24','yyyy/mm/dd'),null,null,12043,to_timestamp('2012/04/24','yyyy/mm/dd'),'Large Cell Neuroendocrine Carcinoma THOMAS','Large Cell Neuroendocrine Carcinoma THOMAS',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (170,10612,to_timestamp('2012/04/24','yyyy/mm/dd'),null,null,10612,to_timestamp('2012/04/24','yyyy/mm/dd'),'Inflammatory Bowel Disease','Inflammatory Bowel Disease',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (171,11137,to_timestamp('2012/04/26','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/04/26','yyyy/mm/dd'),'Kwiatkowski SEGA','Kwiatkowski SEGA',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (253,13834,to_timestamp('2012/08/10','yyyy/mm/dd'),null,null,13834,to_timestamp('2012/08/10','yyyy/mm/dd'),'ADHD','ADHD',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (254,11137,to_timestamp('2012/08/14','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/08/14','yyyy/mm/dd'),'Novartis Resistance','Novartis Resistance',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (255,10943,to_timestamp('2012/08/15','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/08/15','yyyy/mm/dd'),'TCGA FFPE','TCGA FFPE',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (267,10974,to_timestamp('2012/08/31','yyyy/mm/dd'),null,null,10974,to_timestamp('2012/08/31','yyyy/mm/dd'),'Blood Pressure','Blood Pressure',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (268,13834,to_timestamp('2012/08/31','yyyy/mm/dd'),null,null,13834,to_timestamp('2012/08/31','yyyy/mm/dd'),'Genome Superstruct Project','Genome Superstruct Project',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (269,10974,to_timestamp('2012/08/31','yyyy/mm/dd'),null,null,10974,to_timestamp('2012/08/31','yyyy/mm/dd'),'GWASeq BrCa','GWASeq BrCa',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (270,10637,to_timestamp('2012/09/04','yyyy/mm/dd'),null,null,10637,to_timestamp('2012/09/04','yyyy/mm/dd'),'Skea','Skea',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (271,10965,to_timestamp('2012/09/04','yyyy/mm/dd'),null,null,10965,to_timestamp('2012/09/04','yyyy/mm/dd'),'CogDec DLPFC','CogDec DLPFC',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (272,12043,to_timestamp('2012/09/05','yyyy/mm/dd'),null,null,12043,to_timestamp('2012/09/05','yyyy/mm/dd'),'CIP_COLON_EPI','CIP_COLON_EPI',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (273,12043,to_timestamp('2012/09/07','yyyy/mm/dd'),null,null,12043,to_timestamp('2012/09/07','yyyy/mm/dd'),'Mouse_Melanoma_MDACC','Mouse_Melanoma_MDACC',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (274,11732,to_timestamp('2012/09/13','yyyy/mm/dd'),null,null,11732,to_timestamp('2012/09/13','yyyy/mm/dd'),'Stroke/MI','Stroke/MI',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (287,13834,to_timestamp('2012/09/26','yyyy/mm/dd'),null,null,13834,to_timestamp('2012/09/26','yyyy/mm/dd'),'Pato African American Trios','Pato African American Trios',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (288,10671,to_timestamp('2012/10/04','yyyy/mm/dd'),null,null,10671,to_timestamp('2012/10/04','yyyy/mm/dd'),'SIGMA_T2D','SIGMA_T2D',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (289,13834,to_timestamp('2012/10/05','yyyy/mm/dd'),null,null,13834,to_timestamp('2012/10/05','yyyy/mm/dd'),'Pato Caucasian Cohort','Pato Caucasian Cohort',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (290,11137,to_timestamp('2012/10/08','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/10/08','yyyy/mm/dd'),'Anderson Mastocytosis','Anderson Mastocytosis',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (291,12280,to_timestamp('2012/10/09','yyyy/mm/dd'),null,null,12280,to_timestamp('2012/10/09','yyyy/mm/dd'),'Kendler Irish Families','Kendler Irish Families',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (292,12280,to_timestamp('2012/10/12','yyyy/mm/dd'),null,null,12280,to_timestamp('2012/10/12','yyyy/mm/dd'),'Pato GPC','Pato GPC',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (163,11427,to_timestamp('2012/03/20','yyyy/mm/dd'),null,null,11427,to_timestamp('2012/03/20','yyyy/mm/dd'),'Esophageal CIP','Esophageal CIP',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (143,11427,to_timestamp('2012/03/12','yyyy/mm/dd'),null,null,11427,to_timestamp('2012/03/12','yyyy/mm/dd'),'Carcinoid','Carcinoid',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (144,11427,to_timestamp('2012/03/12','yyyy/mm/dd'),null,null,11427,to_timestamp('2012/03/12','yyyy/mm/dd'),'Fanconi Anemia','Fanconi Anemia',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (164,11427,to_timestamp('2012/03/20','yyyy/mm/dd'),null,null,11427,to_timestamp('2012/03/20','yyyy/mm/dd'),'Medulloblastoma CIP','Medulloblastoma CIP',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (165,11427,to_timestamp('2012/03/20','yyyy/mm/dd'),null,null,11427,to_timestamp('2012/03/20','yyyy/mm/dd'),'Neuroblastoma TARGET','Neuroblastoma TARGET',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (166,11427,to_timestamp('2012/03/20','yyyy/mm/dd'),null,null,11427,to_timestamp('2012/03/20','yyyy/mm/dd'),'Mouse CIP','Mouse CIP',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (231,10974,to_timestamp('2012/06/29','yyyy/mm/dd'),null,null,10974,to_timestamp('2012/06/29','yyyy/mm/dd'),'Anthropometric Extremes','Anthropometric Extremes',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (172,12043,to_timestamp('2012/05/01','yyyy/mm/dd'),null,null,12043,to_timestamp('2012/05/01','yyyy/mm/dd'),'CILIOPATHIES','CILIOPATHIES',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (173,10974,to_timestamp('2012/05/02','yyyy/mm/dd'),null,null,10974,to_timestamp('2012/05/02','yyyy/mm/dd'),'Rheumatoid Arthritis','Rheumatoid Arthritis',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (174,12043,to_timestamp('2012/05/08','yyyy/mm/dd'),null,null,12043,to_timestamp('2012/05/08','yyyy/mm/dd'),'BRAIN METS','BRAIN METS',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (175,11137,to_timestamp('2012/05/14','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/05/14','yyyy/mm/dd'),'SIGMA Breast Cancer Deep Dive','SIGMA Breast Cancer Deep Dive',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (176,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),'Cancer Cell Line Controls','Cancer Cell Line Controls',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (177,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),'SIGMA Rhabdoid','SIGMA Rhabdoid',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (178,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),'SIGMA Ewing Sarcoma','SIGMA Ewing Sarcoma',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (179,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),'SIGMA PPB','SIGMA PPB',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (180,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),'SIGMA JMML','SIGMA JMML',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (181,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),'SIGMA Osteosarcoma','SIGMA Osteosarcoma',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (182,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),'Meyerson Rhabdomyosarcoma','Meyerson Rhabdomyosarcoma',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (183,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/05/17','yyyy/mm/dd'),'SIGMA Head and Neck','SIGMA Head and Neck',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (184,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),null,null,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),'Sweden SCZ BP','Sweden SCZ BP',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (185,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),null,null,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),'Cardiff','Cardiff',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (186,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),null,null,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),'ICCBD','ICCBD',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (187,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),null,null,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),'LOGIC','LOGIC',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (188,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),null,null,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),'SMRI','SMRI',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (189,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),null,null,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),'Coriell','Coriell',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (190,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),null,null,10637,to_timestamp('2012/05/29','yyyy/mm/dd'),'Taiwanese Trios','Taiwanese Trios',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (207,10943,to_timestamp('2012/06/06','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/06','yyyy/mm/dd'),'Melanoma Immunity','Melanoma Immunity',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (208,11137,to_timestamp('2012/06/07','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/06/07','yyyy/mm/dd'),'Kwiatkowski Tuberous Sclerosis','Kwiatkowski Tuberous Sclerosis',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (209,13834,to_timestamp('2012/06/08','yyyy/mm/dd'),null,null,13834,to_timestamp('2012/06/08','yyyy/mm/dd'),'McLean','McLean',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (210,10974,to_timestamp('2012/06/12','yyyy/mm/dd'),null,null,10974,to_timestamp('2012/06/12','yyyy/mm/dd'),'GENEVA','GENEVA',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (211,11732,to_timestamp('2012/06/15','yyyy/mm/dd'),null,null,11732,to_timestamp('2012/06/15','yyyy/mm/dd'),'HIV - Host Genetics','HIV - Host Genetics',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (212,10612,to_timestamp('2012/06/18','yyyy/mm/dd'),null,null,10612,to_timestamp('2012/06/18','yyyy/mm/dd'),'SAEC','SAEC',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (213,10612,to_timestamp('2012/06/18','yyyy/mm/dd'),null,null,10612,to_timestamp('2012/06/18','yyyy/mm/dd'),'Daly_ATGU','Daly_ATGU',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (214,12043,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,12043,to_timestamp('2012/06/21','yyyy/mm/dd'),'Prostate Cancer CIP','Prostate Cancer CIP',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (215,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA BLCA','TCGA BLCA',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (216,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA LUAD','TCGA LUAD',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (217,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA LUSC','TCGA LUSC',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (218,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA THCA','TCGA THCA',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (219,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA HNSC','TCGA HNSC',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (220,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA PRAD','TCGA PRAD',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (221,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA STAD','TCGA STAD',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (222,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA GBM','TCGA GBM',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (223,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA LGG','TCGA LGG',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (224,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA PAAD','TCGA PAAD',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (225,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA CESC','TCGA CESC',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (226,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/21','yyyy/mm/dd'),'TCGA KIRC','TCGA KIRC',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (227,11137,to_timestamp('2012/06/25','yyyy/mm/dd'),null,null,11137,to_timestamp('2012/06/25','yyyy/mm/dd'),'Salk Institute Mouse GBM','Salk Institute Mouse GBM',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (228,10943,to_timestamp('2012/06/26','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/26','yyyy/mm/dd'),'TCGA SKCM','TCGA SKCM',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (229,10943,to_timestamp('2012/06/26','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/26','yyyy/mm/dd'),'TCGA VALIDATION','TCGA VALIDATION',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (230,10943,to_timestamp('2012/06/26','yyyy/mm/dd'),null,null,10943,to_timestamp('2012/06/26','yyyy/mm/dd'),'TCGA KIRP','TCGA KIRP',0,'Open');
        Insert into ATHENA.RESEARCH_PROJECT (RESEARCH_PROJECT_ID,CREATED_BY,CREATED_DATE,IRB_NOTES,JIRA_TICKET_KEY,MODIFIED_BY,MODIFIED_DATE,SYNOPSIS,TITLE,IRB_NOT_ENGAGED,STATUS) values (247,11753,to_timestamp('2012/07/24','yyyy/mm/dd'),null,null,11753,to_timestamp('2012/07/24','yyyy/mm/dd'),'Genotyping External','Genotyping External',0,'Open');
    </sql>
        <rollback>
            <sql>
                <![CDATA[delete from ATHENA.research_project where research_project_id > 80 and research_project_id < 384
                ]]>
            </sql>
        </rollback>
    </changeSet>

    <changeSet author="athomson" id="GPLIM-95-3">
        <sql>
            drop sequence athena.seq_research_project_index;
            create sequence athena.seq_research_project_index start with 13000 increment by 50;
        </sql>
    </changeSet>

    <changeSet id="GPLIM-115-1" author="mccrory">
        <preConditions>
            <not>
                <columnExists tableName="product" columnName="minimum_order_size" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="product">
            <column name="minimum_order_size" type="number(10,0)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-115-2" author="mccrory">
        <preConditions>
            <not>
                <columnExists tableName="product_aud" columnName="minimum_order_size" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="product_aud">
            <column name="minimum_order_size" type="number(10,0)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-71-1" author="hrafal">
        <preConditions>
            <not>
                <tableExists tableName="product_order_add_on" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="product_order_add_on" schemaName="athena">
            <column name="product_order_add_on_id" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="add_on" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="product_order" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-71-2" author="hrafal">
        <preConditions>
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_po_add_on_add_on" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_po_add_on_product" baseTableSchemaName="athena"
                                 baseTableName="product_order_add_on" baseColumnNames="add_on"
                                 referencedTableName="product" referencedColumnNames="product_id"/>
    </changeSet>

    <changeSet id="GPLIM-71-3" author="hrafal">
        <preConditions>
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_po_add_on_order" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_po_add_on_order" baseTableSchemaName="athena"
                                 baseTableName="product_order_add_on" baseColumnNames="product_order"
                                 referencedTableName="product_order" referencedColumnNames="product_order_id"/>
    </changeSet>

    <changeSet id="GPLIM-71-4" author="hrafal">
        <preConditions>
            <not>
                <indexExists indexName="ix_product_order_add_on" schemaName="athena"/>
            </not>
        </preConditions>
        <createIndex indexName="ix_product_order_add_on" schemaName="athena" tableName="product_order_add_on">
            <column name="product_order"/>
        </createIndex>
    </changeSet>

    <changeSet id="GPLIM-71-5" author="hrafal">
        <preConditions>
            <not>
                <tableExists tableName="product_order_add_on_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="product_order_add_on_aud" schemaName="athena">
            <column name="product_order_add_on_id" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="rev" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="add_on" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="product_order" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-71-5a" author="hrafal">
        <dropPrimaryKey schemaName="athena" tableName="product_order_add_on_aud" constraintName="pk_product_order_add_on_aud"/>
        <addPrimaryKey schemaName="athena" tableName="product_order_add_on_aud" columnNames="rev, add_on, product_order"/>
    </changeSet>

    <changeSet id="GPLIM-71-6" author="hrafal">
        <preConditions>
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_po_add_on_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_po_add_on_aud" baseTableSchemaName="athena"
                                 baseTableName="product_order_add_on_aud" baseColumnNames="rev"
                                 referencedTableSchemaName="mercury"
                                 referencedTableName="rev_info" referencedColumnNames="rev_info_id"/>
    </changeSet>

    <changeSet id="GPLIM-71-7" author="hrafal">
        <preConditions>
            <not>
                <sequenceExists sequenceName="SEQ_ORDER_ADD_ON" schemaName="athena"/>
            </not>
        </preConditions>
        <createSequence sequenceName="SEQ_ORDER_ADD_ON" schemaName="athena" startValue="1" incrementBy="50"/>
    </changeSet>

    <changeSet id="GPLIM-139-1.1.1" author="mcovarr">
        <sql>
            delete from athena.product_price_items where product in (
            select product_id from athena.product where default_price_item is null
            )
        </sql>
    </changeSet>

    <changeSet id="GPLIM-139-1.1.2" author="mcovarr">
        <sql>
            delete from athena.product_add_ons where product in (
            select product_id from athena.product where default_price_item is null
            )
        </sql>
    </changeSet>


    <changeSet id="GPLIM-139-1.1.3" author="mcovarr">
        <sql>
            delete from athena.product_add_ons where add_ons in (
            select product_id from athena.product where default_price_item is null
            )

        </sql>
    </changeSet>


    <changeSet id="GPLIM-139.1.1.3.1" author="mcovarr">
        <sql>
            delete from athena.product_order where product in (
            select product_id from athena.product where default_price_item is null
            )
        </sql>
    </changeSet>

    <changeSet id="GPLIM-139-1.1.4" author="mcovarr">
        <sql>
            delete from athena.product where default_price_item is null
        </sql>
    </changeSet>

    <changeSet id="GPLIM-139-2" author="mcovarr">
        <addNotNullConstraint columnName="default_price_item" tableName="product" schemaName="athena" />
    </changeSet>

    <changeSet id="GPLIM-139-3" author="mcovarr">
        <addNotNullConstraint columnName="product_family" tableName="product" schemaName="athena" />
    </changeSet>

    <changeSet id="GPLIM-116" author="mcovarr">
        <preConditions>
            <not>
                <columnExists tableName="product" columnName="pdm_orderable_only" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="product">
            <column name="pdm_orderable_only" type="number(1,0)"/>
        </addColumn>
        <addNotNullConstraint
                tableName="product"
                columnName="pdm_orderable_only"
                defaultNullValue="0" />
    </changeSet>

    <changeSet id="GPLIM-116_aud" author="mcovarr">
        <preConditions>
            <not>
                <columnExists tableName="product_aud" columnName="pdm_orderable_only" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="product_aud">
            <column name="pdm_orderable_only" type="number(1,0)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-189-1" author="mccrory">
        <preConditions>
            <not>
                <columnExists tableName="product_order_sample" columnName="sample_position" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="product_order_sample">
            <column name="sample_position" type="number(19,0)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-189-2" author="mccrory">
        <preConditions>
            <not>
                <columnExists tableName="product_order_sample_aud" columnName="sample_position" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="product_order_sample_aud">
            <column name="sample_position" type="number(19,0)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-116_pg.remove" author="mcovarr">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql" />
            <runningAs username="ATHENA" />
        </preConditions>
        <dropColumn tableName="product" schemaName="athena" columnName="pdm_orderable_only"/>
    </changeSet>


    <changeSet id="GPLIM-116_pg.add" author="mcovarr">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql" />
            <runningAs username="ATHENA" />
        </preConditions>
        <addColumn tableName="product" schemaName="athena">
            <column name="pdm_orderable_only" type="boolean"/>
        </addColumn>
    </changeSet>


    <changeSet id="GPLIM-116_aud_pg.remove" author="mcovarr">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql" />
            <runningAs username="ATHENA" />
        </preConditions>
        <dropColumn tableName="product_aud" schemaName="athena" columnName="pdm_orderable_only"/>
    </changeSet>


    <changeSet id="GPLIM-116_aud_pg.add" author="mcovarr">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql" />
            <runningAs username="ATHENA" />
        </preConditions>
        <addColumn tableName="product_aud" schemaName="athena">
            <column name="pdm_orderable_only" type="boolean"/>
        </addColumn>
    </changeSet>


    <changeSet id="GPLIM-172_oracle" author="mcovarr">
        <preConditions onFail="MARK_RAN">
            <dbms type="oracle" />
            <runningAs username="ATHENA" />
        </preConditions>
        <sql>
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'RNA');
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'SMALL_DESIGN_VALIDATION_AND_EXTENSION');
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'SAMPLE_INITIATION_QUALIFICATION_AND_CELL_CULTURE');
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'EXOME');
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'WHOLE_GENOME');
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'DE_NOVO_ASSEMBLY');
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'MICROBIAL_AND_VIRAL_ANALYSIS');
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'SEQUENCE_ONLY');
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'METAGENOMICS');
        </sql>
    </changeSet>

    <changeSet id="GPLIM-172_pg" author="mcovarr">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql" />
            <runningAs username="ATHENA" />
        </preConditions>
        <sql>
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'RNA');
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'SMALL_DESIGN_VALIDATION_AND_EXTENSION');
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'SAMPLE_INITIATION_QUALIFICATION_AND_CELL_CULTURE');
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'EXOME');
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'WHOLE_GENOME');
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'DE_NOVO_ASSEMBLY');
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'MICROBIAL_AND_VIRAL_ANALYSIS');
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'SEQUENCE_ONLY');
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'METAGENOMICS');
        </sql>
    </changeSet>


    <changeSet id="GPLIM-172_repoint_and_remove_old" author="mcovarr">
        <sql>
            update athena.product set product_family = (
              select product_family_id from athena.product_family where name = 'RNA')
            where product_family in (
              select product_family_id from athena.product_family where name in (
                'GENERAL_PRODUCTS',
                'EXOME_SEQUENCING_ANALYSIS',
                'WHOLE_GENOME_SEQUENCING_ANALYSIS',
                'WHOLE_GENOME_ARRAY_ANALYSIS',
                'RNA_ANALYSIS',
                'ASSEMBLY_ANALYSIS',
                'METAGENOMIC_ANALYSIS',
                'EPIGENOMIC_ANALYSIS',
                'ILLUMINA_SEQUENCING_ONLY',
                'ALTERNATIVE_TECHNOLOGIES',
                'CUSTOM_PRODUCTS_TARGETED_SEQUENCING'
                )
            );

            delete from athena.product_family where name in (
                'GENERAL_PRODUCTS',
                'EXOME_SEQUENCING_ANALYSIS',
                'WHOLE_GENOME_SEQUENCING_ANALYSIS',
                'WHOLE_GENOME_ARRAY_ANALYSIS',
                'RNA_ANALYSIS',
                'ASSEMBLY_ANALYSIS',
                'METAGENOMIC_ANALYSIS',
                'EPIGENOMIC_ANALYSIS',
                'ILLUMINA_SEQUENCING_ONLY',
                'ALTERNATIVE_TECHNOLOGIES',
                'CUSTOM_PRODUCTS_TARGETED_SEQUENCING'
            )
        </sql>
    </changeSet>

    <!-- Since modify type does not work for changing number to boolean in postgres, just
         doing a specific drop and add for postgres here -->
    <changeSet id="GPLIM-65-2b" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql" />
            <runningAs username="ATHENA" />
        </preConditions>
        <dropColumn schemaName="athena" tableName="research_project" columnName="irb_not_engaged"/>
        <addColumn schemaName="athena" tableName="research_project">
            <column name="irb_not_engaged" type="boolean"/>
        </addColumn>
        <addNotNullConstraint
                tableName="research_project"
                columnName="irb_not_engaged"
                defaultNullValue="false" />
    </changeSet>

    <!-- Since modify type does not work for changing number to boolean in postgres, just
         doing a specific drop and add for postgres here -->
    <changeSet id="GPLIM-65-4a" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql" />
            <runningAs username="ATHENA" />
        </preConditions>
        <dropColumn schemaName="athena" tableName="research_project_aud" columnName="irb_not_engaged"/>
        <addColumn schemaName="athena" tableName="research_project_aud">
            <column name="irb_not_engaged" type="boolean"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-116_pg.add_not_nullable" author="mcovarr">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql" />
            <runningAs username="ATHENA" />
        </preConditions>
        <addNotNullConstraint
                schemaName="athena"
                tableName="product"
                columnName="pdm_orderable_only"
                defaultNullValue="0" />
    </changeSet>


    <changeSet id="GPLIM-189-5" author="mccrory">
        <sql>
            update product_order_sample set sample_position = product_order_sample_id
            where sample_position is null
        </sql>
    </changeSet>

    <changeSet id="GPLIM-189-6" author="mccrory">
        <addNotNullConstraint columnName="sample_position" tableName="product_order_sample" schemaName="athena" />
    </changeSet>


    <changeSet id="GPLIM-216_oracle" author="mcovarr">
        <preConditions onFail="MARK_RAN">
            <dbms type="oracle" />
            <runningAs username="ATHENA" />
        </preConditions>
        <sql>
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'ALTERNATIVE_LIBRARY_PREP_AND_DEVELOPMENT');
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'EPIGENOMICS');
        </sql>
    </changeSet>

    <changeSet id="GPLIM-216_pg" author="mcovarr">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql" />
            <runningAs username="ATHENA" />
        </preConditions>
        <sql>
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'ALTERNATIVE_LIBRARY_PREP_AND_DEVELOPMENT');
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'EPIGENOMICS');
        </sql>
    </changeSet>


    <changeSet id="GPLIM-227_oracle" author="mcovarr">
        <preConditions onFail="MARK_RAN">
            <dbms type="oracle" />
            <runningAs username="ATHENA" />
        </preConditions>
        <sql>
            insert into athena.product_family(product_family_id, name) values (seq_product_family.nextval, 'DATA_ANALYSIS');
        </sql>
    </changeSet>


    <changeSet id="GPLIM-227_pg" author="mcovarr">
        <preConditions onFail="MARK_RAN">
            <dbms type="postgresql" />
            <runningAs username="ATHENA" />
        </preConditions>
        <sql>
            insert into athena.product_family(product_family_id, name) values (nextval('athena.seq_product_family'), 'DATA_ANALYSIS');
        </sql>
    </changeSet>


    <changeSet id="GPLIM-254-not-null.platform" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="price_item" columnName="platform" />
    </changeSet>

    <changeSet id="GPLIM-254-not-null.name" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="price_item" columnName="name" />
    </changeSet>

    <changeSet id="GPLIM-233-revise-names" author="mcovarr">
        <sql>
            update athena.product_family set name = 'de novo Assembly' where name = 'DE_NOVO_ASSEMBLY';
            update athena.product_family set name = 'Alternate Library Prep &amp; Development' where name = 'ALTERNATIVE_LIBRARY_PREP_AND_DEVELOPMENT';
            update athena.product_family set name = 'Data Analysis' where name = 'DATA_ANALYSIS';
            update athena.product_family set name = 'Epigenomics' where name = 'EPIGENOMICS';
            update athena.product_family set name = 'Exome' where name = 'EXOME';
            update athena.product_family set name = 'Metagenomics' where name = 'METAGENOMICS';
            update athena.product_family set name = 'Microbial &amp; Viral Analysis' where name = 'MICROBIAL_AND_VIRAL_ANALYSIS';
            update athena.product_family set name = 'RNA' where name = 'RNA';
            update athena.product_family set name = 'Sample Initiation, Qualification &amp; Cell Culture' where name = 'SAMPLE_INITIATION_QUALIFICATION_AND_CELL_CULTURE';
            update athena.product_family set name = 'Sequence Only' where name = 'SEQUENCE_ONLY';
            update athena.product_family set name = 'Small Design, Validation &amp; Extension' where name = 'SMALL_DESIGN_VALIDATION_AND_EXTENSION';
            update athena.product_family set name = 'Whole Genome' where name = 'WHOLE_GENOME';
        </sql>
    </changeSet>


    <changeSet id="GPLIM-185-1" author="mccrory">
      <sql>
        update research_project set jira_ticket_key = 'RP-9' where title = 'Lung Adenocarcinoma CIP' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-10' where title = 'Resistance - Kantoff' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-11' where title = 'Germline Cancers (NHGRI)' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-12' where title = 'Resistance NHGRI CIP' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-13' where title = 'Kantoff Resistance' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-14' where title = 'Short Stature' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-15' where title = 'CCLE' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-16' where title = 'GTEx' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-17' where title = 'SIGMA Pediatric' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-18' where title = 'SIGMA Cervical' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-19' where title = 'SIGMA Sarcoma' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-20' where title = 'Kwiatkowski LAM' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-21' where title = '1000 Genomes' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-22' where title = 'TCGA' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-23' where title = 'Lipid Extremes' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-24' where title = 'Germline Cancers (Starr)' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-25' where title = 'Resistance CIP' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-26' where title = 'ESP-GO Exome Chip' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-27' where title = 'Mendelian Consortium' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-28' where title = 'Autism' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-29' where title = 'Large Cell Neuroendocrine Carcinoma THOMAS' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-30' where title = 'Inflammatory Bowel Disease' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-31' where title = 'Kwiatkowski SEGA' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-32' where title = 'ADHD' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-33' where title = 'Novartis Resistance' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-34' where title = 'TCGA FFPE' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-35' where title = 'Blood Pressure' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-36' where title = 'Genome Superstruct Project' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-37' where title = 'GWASeq BrCa' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-38' where title = 'Skea' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-39' where title = 'CogDec DLPFC' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-40' where title = 'CIP_COLON_EPI' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-41' where title = 'Mouse_Melanoma_MDACC' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-42' where title = 'Stroke/MI' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-43' where title = 'Pato African American Trios' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-44' where title = 'SIGMA_T2D' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-45' where title = 'Pato Caucasian Cohort' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-46' where title = 'Anderson Mastocytosis' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-47' where title = 'Kendler Irish Families' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-48' where title = 'Pato GPC' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-49' where title = 'Esophageal CIP' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-50' where title = 'Carcinoid' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-51' where title = 'Fanconi Anemia' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-52' where title = 'Medulloblastoma CIP' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-53' where title = 'Neuroblastoma TARGET' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-54' where title = 'Mouse CIP' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-55' where title = 'Anthropometric Extremes' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-56' where title = 'CILIOPATHIES' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-57' where title = 'Rheumatoid Arthritis' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-58' where title = 'BRAIN METS' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-59' where title = 'SIGMA Breast Cancer Deep Dive' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-60' where title = 'Cancer Cell Line Controls' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-61' where title = 'SIGMA Rhabdoid' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-62' where title = 'SIGMA Ewing Sarcoma' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-63' where title = 'SIGMA PPB' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-64' where title = 'SIGMA JMML' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-65' where title = 'SIGMA Osteosarcoma' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-66' where title = 'Meyerson Rhabdomyosarcoma' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-67' where title = 'SIGMA Head and Neck' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-68' where title = 'Sweden SCZ BP' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-69' where title = 'Cardiff' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-70' where title = 'ICCBD' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-71' where title = 'LOGIC' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-72' where title = 'SMRI' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-73' where title = 'Coriell' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-74' where title = 'Taiwanese Trios' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-75' where title = 'Melanoma Immunity' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-76' where title = 'Kwiatkowski Tuberous Sclerosis' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-77' where title = 'McLean' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-78' where title = 'GENEVA' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-79' where title = 'HIV - Host Genetics' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-80' where title = 'SAEC' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-81' where title = 'Daly_ATGU' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-82' where title = 'Prostate Cancer CIP' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-83' where title = 'TCGA BLCA' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-84' where title = 'TCGA LUAD' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-85' where title = 'TCGA LUSC' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-86' where title = 'TCGA THCA' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-87' where title = 'TCGA HNSC' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-88' where title = 'TCGA PRAD' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-89' where title = 'TCGA STAD' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-90' where title = 'TCGA GBM' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-91' where title = 'TCGA LGG' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-92' where title = 'TCGA PAAD' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-93' where title = 'TCGA CESC' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-94' where title = 'TCGA KIRC' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-95' where title = 'Salk Institute Mouse GBM' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-96' where title = 'TCGA SKCM' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-97' where title = 'TCGA VALIDATION' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-98' where title = 'TCGA KIRP' and jira_ticket_key is null;
        update research_project set jira_ticket_key = 'RP-99' where title = 'Genotyping External' and jira_ticket_key is null;
      </sql>
    </changeSet>

    <changeSet id="GPLIM-239-1" author="mcovarr">
        <addNotNullConstraint columnName="jira_ticket_key" schemaName="athena" tableName="product_order" />
    </changeSet>

    <changeSet id="GPLIM-239-2" author="mcovarr">
        <addNotNullConstraint columnName="jira_ticket_key" schemaName="athena" tableName="research_project" />
    </changeSet>

    <changeSet id="GPLIM-229-1" author="mccrory">
      <sql>
        update product set samples_per_week = null where samples_per_week = 0;
      </sql>
    </changeSet>

    <changeSet id="GPLIM-229-2" author="mccrory">
      <sql>
        update product set minimum_order_size = null where minimum_order_size = 0;
      </sql>
    </changeSet>

    <!-- Billing Session -->
    <changeSet id="GPLIM-329-1" author="hrafal">
        <preConditions>
            <not>
                <tableExists tableName="billing_session" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="billing_session" schemaName="athena">
            <column name="billing_session_id" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="created_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="DECIMAL(15,0)">
                <constraints nullable="false"/>
            </column>
            <column name="billed_date" type="date">
                <constraints nullable="true"/>
            </column>
        </createTable>
    </changeSet>

    <!-- Billing Ledger -->
    <changeSet id="GPLIM-329-2" author="hrafal">
        <preConditions>
            <not>
                <tableExists tableName="billing_ledger" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="billing_ledger" schemaName="athena">
            <column name="ledger_id" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="product_order_sample_id" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="price_item_id" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="quantity" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="billing_session_id" type="int">
                <constraints nullable="true"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-329-3" author="hrafal">
        <preConditions>
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_ledger_order_sample" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_ledger_order_sample" baseTableSchemaName="athena"
                                 baseTableName="billing_ledger" baseColumnNames="product_order_sample_id"
                                 referencedTableName="product_order_sample" referencedColumnNames="product_order_sample_id"/>
    </changeSet>

    <changeSet id="GPLIM-329-4" author="hrafal">
        <preConditions>
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_ledger_session" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_ledger_session" baseTableSchemaName="athena"
                                 baseTableName="billing_ledger" baseColumnNames="billing_session_id"
                                 referencedTableName="billing_session" referencedColumnNames="billing_session_id"/>
    </changeSet>

    <changeSet id="GPLIM-329-5" author="hrafal">
        <preConditions>
            <not>
                <indexExists indexName="ix_ledger_order_sample" schemaName="athena"/>
            </not>
        </preConditions>
        <createIndex indexName="ix_ledger_order_sample" schemaName="athena" tableName="billing_ledger">
            <column name="product_order_sample_id"/>
        </createIndex>
    </changeSet>

    <changeSet id="GPLIM-329-6" author="hrafal">
        <preConditions>
            <not>
                <indexExists indexName="ix_ledger_billing_session" schemaName="athena"/>
            </not>
        </preConditions>
        <createIndex indexName="ix_ledger_billing_session" schemaName="athena" tableName="billing_ledger">
            <column name="billing_session_id"/>
        </createIndex>
    </changeSet>

    <changeSet id="GPLIM-329-7" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="billing_session_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="billing_session_aud" schemaName="athena">
            <column name="billing_session_id" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="date">
                <constraints nullable="true"/>
            </column>
            <column name="created_by" type="DECIMAL(15,0)">
                <constraints nullable="true"/>
            </column>
            <column name="billed_date" type="date">
                <constraints nullable="true"/>
            </column>
            <column name="rev" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-329-10" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <sequenceExists sequenceName="SEQ_LEDGER" schemaName="athena"/>
            </not>
        </preConditions>
        <createSequence sequenceName="SEQ_LEDGER" schemaName="athena" startValue="1" incrementBy="10"/>
    </changeSet>

    <changeSet id="GPLIM-329-11" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <sequenceExists sequenceName="SEQ_BILLING_SESSION" schemaName="athena"/>
            </not>
        </preConditions>
        <createSequence sequenceName="SEQ_BILLING_SESSION" schemaName="athena" startValue="1" incrementBy="1"/>
    </changeSet>

    <changeSet id="GPLIM-329-12" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="billing_ledger_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="billing_ledger_aud" schemaName="athena">
            <column name="ledger_id" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="product_order_sample_id" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="price_item_id" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="quantity" type="decimal">
                <constraints nullable="true"/>
            </column>
            <column name="billing_session_id" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="rev" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-329-15" author="hrafal">
        <dropColumn schemaName="athena" tableName="billing_ledger" columnName="quantity"/>
        <addColumn schemaName="athena" tableName="billing_ledger">
            <column name="quantity" type="DECIMAL(15,4)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-329-16" author="hrafal">
        <dropColumn schemaName="athena" tableName="billing_ledger_aud" columnName="quantity"/>
        <addColumn schemaName="athena" tableName="billing_ledger_aud">
            <column name="quantity" type="DECIMAL(15,4)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-329-17" author="hrafal">
        <dropPrimaryKey schemaName="athena" tableName="billing_ledger_aud" constraintName="PK_BILLING_LEDGER_AUD"/>
        <addPrimaryKey constraintName="PK_BILLING_LEDGER_AUD" schemaName="athena" tableName="billing_ledger_aud" columnNames="rev, ledger_id"/>
    </changeSet>

    <changeSet id="GPLIM-329-18" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <columnExists tableName="billing_ledger" columnName="billing_session_id" schemaName="athena"/>
        </preConditions>
        <dropColumn tableName="billing_ledger" columnName="billing_session_id" schemaName="athena"/>
        <addColumn tableName="billing_ledger">
            <column name="billing_session" type="number"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-329-19" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <columnExists tableName="billing_ledger_aud" columnName="billing_session_id" schemaName="athena"/>
        </preConditions>
        <dropColumn tableName="billing_ledger_aud" columnName="billing_session_id" schemaName="athena"/>
        <addColumn tableName="billing_ledger_aud">
            <column name="billing_session" type="number"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-345-1" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <columnExists tableName="billing_ledger" columnName="billed_date" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="billing_ledger">
            <column name="billed_date" type="date"/>
        </addColumn>
        <addColumn tableName="billing_ledger">
            <column name="billing_message" type="varchar(500)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-345-2" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <columnExists tableName="billing_ledger_aud" columnName="billed_date" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="billing_ledger_aud">
            <column name="billed_date" type="date"/>
        </addColumn>
        <addColumn tableName="billing_ledger_aud">
            <column name="billing_message" type="varchar(500)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-293-1" author="pshapiro">
        <preConditions>
            <not>
                <tableExists tableName="product_order_sample_join_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="product_order_sample_join_aud" schemaName="athena">
            <column name="rev" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="product_order" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="product_order_sample_id" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="sample_position" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addPrimaryKey schemaName="athena" tableName="product_order_sample_join_aud" columnNames="rev, product_order, product_order_sample_id, sample_position"/>
    </changeSet>

    <changeSet id="GPLIM-293-2" author="pshapiro">
        <preConditions>
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_po_sample_join_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_po_sample_join_aud" baseTableSchemaName="athena"
                                 baseTableName="product_order_sample_join_aud" baseColumnNames="rev"
                                 referencedTableSchemaName="mercury"
                                 referencedTableName="rev_info" referencedColumnNames="rev_info_id"/>
    </changeSet>


    <changeSet id="GPLIM-329-1" author="mcovarr">
        <preConditions>
            <not>
                <columnExists tableName="billing_ledger" schemaName="athena" columnName="work_complete_date" />
            </not>
        </preConditions>
        <renameColumn schemaName="athena"
                      tableName="billing_ledger"
                      oldColumnName="billed_date"
                      newColumnName="work_complete_date"/>
    </changeSet>


    <changeSet id="GPLIM-368" author="pshapiro">
        <preConditions>
            <not>
                <columnExists tableName="product_order" columnName="count" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="product_order">
            <column name="count" type="number(10,0)"/>
        </addColumn>
        <addNotNullConstraint
                tableName="product_order"
                columnName="count"
                defaultNullValue="1" />
    </changeSet>

    <changeSet id="GPLIM-368-1" author="pshapiro">
        <preConditions>
            <not>
                <columnExists tableName="product_order_aud" columnName="count" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="product_order_aud">
            <column name="count" type="number(10,0)"/>
        </addColumn>
    </changeSet>


    <changeSet id="GPLIM-329-1.1" author="mcovarr">
        <preConditions>
            <not>
                <columnExists tableName="billing_ledger_aud" schemaName="athena" columnName="work_complete_date" />
            </not>
        </preConditions>
        <renameColumn schemaName="athena"
                      tableName="billing_ledger_aud"
                      oldColumnName="billed_date"
                      newColumnName="work_complete_date"/>
    </changeSet>


    <changeSet id="GPLIM-329-1.2" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="billing_ledger" columnName="work_complete_date" />
    </changeSet>


    <changeSet id="GPLIM-387-1.1" author="mcovarr">
        <preConditions>
            <not>
                <columnExists schemaName="athena" tableName="product" columnName="primary_price_item" />
            </not>
        </preConditions>

        <renameColumn schemaName="athena"
                      tableName="product"
                      oldColumnName="default_price_item"
                      newColumnName="primary_price_item" />
    </changeSet>

    <changeSet id="GPLIM-387-1.2" author="mcovarr">
        <preConditions>
            <not>
                <columnExists schemaName="athena" tableName="product_aud" columnName="primary_price_item" />
            </not>
        </preConditions>

        <renameColumn schemaName="athena"
                      tableName="product_aud"
                      oldColumnName="default_price_item"
                      newColumnName="primary_price_item" />
    </changeSet>

    <changeSet id="GPLIM-387-2.1" author="mcovarr">
        <preConditions>
            <not>
                <tableExists schemaName="athena" tableName="product_opt_price_items"/>
            </not>
        </preConditions>

        <renameTable schemaName="athena"
                     oldTableName="product_price_items"
                     newTableName="product_opt_price_items" />
    </changeSet>

    <changeSet id="GPLIM-387-2.2" author="mcovarr">
        <preConditions>
            <not>
                <tableExists schemaName="athena" tableName="product_opt_price_items_aud"/>
            </not>
        </preConditions>

        <renameTable schemaName="athena"
                     oldTableName="product_price_items_aud"
                     newTableName="product_opt_price_items_aud" />
    </changeSet>

    <changeSet id="GPLIM-397-3.1" author="mcovarr">
        <preConditions>
            <not>
                <columnExists schemaName="athena" tableName="product_opt_price_items" columnName="optional_price_items" />
            </not>
        </preConditions>
        <renameColumn schemaName="athena"
                      tableName="product_opt_price_items"
                      oldColumnName="price_items"
                      newColumnName="optional_price_items" />
    </changeSet>



    <changeSet id="GPLIM-397-3.2" author="mcovarr">
        <preConditions>
            <not>
                <columnExists schemaName="athena" tableName="product_opt_price_items_aud" columnName="optional_price_items" />
            </not>
        </preConditions>
        <renameColumn schemaName="athena"
                      tableName="product_opt_price_items_aud"
                      oldColumnName="price_items"
                      newColumnName="optional_price_items" />
    </changeSet>

    <changeSet id="GPLIM-373-1" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <columnExists tableName="billing_ledger_aud" columnName="price_item_id" schemaName="athena"/>
        </preConditions>
        <dropColumn tableName="billing_ledger_aud" columnName="price_item_id" schemaName="athena"/>
        <addColumn tableName="billing_ledger_aud">
            <column name="price_item_id" type="number">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>


    <changeSet id="GPLIM-435" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="billing_ledger" columnName="quantity" />
    </changeSet>


    <changeSet id="GPLIM-253.1" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="product_order" columnName="title" />
    </changeSet>


    <changeSet id="GPLIM-253.2" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="product_order" columnName="quote_id" />
    </changeSet>


    <changeSet id="GPLIM-253.3" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="product_order" columnName="order_status" />
    </changeSet>


    <changeSet id="GPLIM-253.4" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="product_order" columnName="product" />
    </changeSet>


    <changeSet id="GPLIM-253.5" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="product_order" columnName="research_project" />
    </changeSet>


    <changeSet id="GPLIM-253.6" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="product_order" columnName="created_by" />
    </changeSet>


    <changeSet id="GPLIM-253.7" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="product_order_sample" columnName="sample_name" />
    </changeSet>


    <changeSet id="GPLIM-253.7.1" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="product_order_sample" columnName="product_order" />
    </changeSet>


    <changeSet id="GPLIM-253.8" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_project" columnName="created_by" />
    </changeSet>


    <changeSet id="GPLIM-253.9" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_project" columnName="created_date" />
    </changeSet>


    <changeSet id="GPLIM-253.10" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_project" columnName="title" />
    </changeSet>


    <changeSet id="GPLIM-253.11" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_project" columnName="synopsis" />
    </changeSet>


    <changeSet id="GPLIM-253.12" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_project_cohort" columnName="cohort_id" />
    </changeSet>


    <changeSet id="GPLIM-253.13" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_project_cohort" columnName="research_project" />
    </changeSet>


    <changeSet id="GPLIM-253.14" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_project_funding" columnName="funding_id" />
    </changeSet>


    <changeSet id="GPLIM-253.15" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_project_funding" columnName="research_project" />
    </changeSet>


    <changeSet id="GPLIM-253.16" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_projectirb" columnName="irb" />
    </changeSet>


    <changeSet id="GPLIM-253.17" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_projectirb" columnName="irb_type" />
    </changeSet>


    <changeSet id="GPLIM-253.18" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_projectirb" columnName="research_project" />
    </changeSet>

    <changeSet id="GPLIM-492.1" author="mccrory">
        <preConditions onFail="WARN">
            <and>
              <sqlCheck expectedResult="0">select count(*) from billable_item_aud</sqlCheck>
              <tableExists schemaName="athena" tableName="billable_item_aud"  />
            </and>
        </preConditions>
        <comment>The billable_item_aud table was superceded by billing_ledger_aud table</comment>
        <dropTable tableName="billable_item_aud"/>
    </changeSet>

    <changeSet id="GPLIM-492.2" author="mccrory">
        <preConditions onFail="WARN">
            <and>
              <sqlCheck expectedResult="0">select count(*) from billable_item</sqlCheck>
              <tableExists schemaName="athena" tableName="billable_item"  />
            </and>
        </preConditions>
        <comment>The billable_item table was superceded by billing_ledger table</comment>
        <dropTable tableName="billable_item"/>
    </changeSet>

    <!-- GPLIM-580: Entity table for material_type -->
    <changeSet id="GPLIM-580.1" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="material_type" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="material_type" schemaName="athena">
            <column name="material_type_id" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="varchar(80)">
                <constraints nullable="false"/>
            </column>
            <column name="category" type="varchar(80)">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addPrimaryKey schemaName="athena" tableName="material_type" columnNames="material_type_id"/>
    </changeSet>

    <!-- Audit table for the above entity table for material_type -->
    <changeSet id="GPLIM-580.2" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="material_type_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="material_type_aud" schemaName="athena">
            <column name="material_type_id" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="varchar(80)">
                <constraints nullable="true"/>
            </column>
            <column name="category" type="varchar(80)">
                <constraints nullable="true"/>
            </column>
            <column name="rev" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="true"/>
            </column>
        </createTable>
        <addPrimaryKey schemaName="athena" tableName="material_type_aud" columnNames="material_type_id,rev"/>
    </changeSet>


    <changeSet id="GPLIM-580.2a" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_mtypes_aud_rev_id" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_mtypes_aud_rev_id"
                  baseTableSchemaName="athena" baseTableName="material_type_aud" baseColumnNames="rev"
                  referencedTableSchemaName="mercury" referencedTableName="rev_info" referencedColumnNames="rev_info_id"/>
    </changeSet>


    <!-- Join table between product and material_type -->
    <changeSet id="GPLIM-580.3" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="product_material_types" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="product_material_types" schemaName="athena">
            <column name="product_id" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="material_type_id" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addPrimaryKey schemaName="athena" tableName="product_material_types" columnNames="product_id, material_type_id"/>
        <addForeignKeyConstraint constraintName="fk_pd_mtypes_product_id" baseTableSchemaName="athena" baseTableName="product_material_types" baseColumnNames="product_id"
                                 referencedTableName="product" referencedColumnNames="product_id"/>
        <addForeignKeyConstraint constraintName="fk_pd_mtypes_material_type_id" baseTableSchemaName="athena" baseTableName="product_material_types" baseColumnNames="material_type_id"
                                 referencedTableName="material_type" referencedColumnNames="material_type_id"/>
    </changeSet>

    <!-- Audit table for the above join table between product and material_type -->
    <changeSet id="GPLIM-580.4" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="product_material_types_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="product_material_types_aud" schemaName="athena">
            <column name="product_id" type="int">
            </column>
            <column name="material_type_id" type="int">
            </column>
            <column name="rev" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="true"/>
            </column>
        </createTable>
        <addPrimaryKey schemaName="athena" tableName="product_material_types_aud" columnNames="product_id,material_type_id,rev"/>
        <addForeignKeyConstraint constraintName="fk_pd_mtypes_aud_rev_id"
                  baseTableSchemaName="athena" baseTableName="product_material_types_aud" baseColumnNames="rev"
                  referencedTableSchemaName="mercury" referencedTableName="rev_info" referencedColumnNames="rev_info_id"/>
    </changeSet>

    <changeSet id="GPLIM-543-1" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="WORK_COMPLETE_MESSAGE" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="WORK_COMPLETE_MESSAGE" schemaName="athena">
            <column name="WORK_COMPLETE_MESSAGE_ID" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="PDO_NAME" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="COLLABORATOR_SAMPLE_ID" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="SAMPLE_INDEX" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="ALIQUOT_LSID" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
            <column name="COMPLETED_DATE" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="PROCESS_DATE" type="date"/>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-543-2" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <sequenceExists sequenceName="SEQ_WORK_COMPLETE" schemaName="athena"/>
            </not>
        </preConditions>
        <createSequence sequenceName="SEQ_WORK_COMPLETE" schemaName="athena" startValue="1" incrementBy="5"/>
    </changeSet>

    <changeSet id="GPLIM-543-3" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="WORK_COMPLETE_MESSAGE_AUD" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="WORK_COMPLETE_MESSAGE_AUD" schemaName="athena">
            <column name="WORK_COMPLETE_MESSAGE_ID" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="PDO_NAME" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
            <column name="COLLABORATOR_SAMPLE_ID" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
            <column name="SAMPLE_INDEX" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="ALIQUOT_LSID" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
            <column name="COMPLETED_DATE" type="date">
                <constraints nullable="true"/>
            </column>
            <column name="PROCESS_DATE" type="date">
                <constraints nullable="true"/>
            </column>
            <column name="rev" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-543-4" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="MESSAGE_DATA_VALUE" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="MESSAGE_DATA_VALUE" schemaName="athena">
            <column name="MESSAGE_DATA_VALUE_ID" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="WORK_COMPLETE_MESSAGE" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="KEY" type="varchar(100)">
                <constraints nullable="false"/>
            </column>
            <column name="VALUE" type="varchar(2000)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-543-4.1" author="pshapiro">
        <preConditions onFail="MARK_RAN">
            <not>
                <sequenceExists sequenceName="SEQ_MESSAGE_DATA_VALUE" schemaName="athena"/>
            </not>
        </preConditions>
        <createSequence sequenceName="SEQ_MESSAGE_DATA_VALUE" schemaName="athena" startValue="1" incrementBy="50"/>
    </changeSet>

    <changeSet id="GPLIM-543-5" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_work_complete_data" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_work_complete_data" baseTableSchemaName="athena"
                                 baseTableName="MESSAGE_DATA_VALUE" baseColumnNames="WORK_COMPLETE_MESSAGE"
                                 referencedTableName="WORK_COMPLETE_MESSAGE" referencedColumnNames="WORK_COMPLETE_MESSAGE_ID"/>
    </changeSet>

    <changeSet id="GPLIM-543-6" author="hrafal">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="MESSAGE_DATA_VALUE_AUD" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="MESSAGE_DATA_VALUE_AUD" schemaName="athena">
            <column name="WORK_COMPLETE_MESSAGE_ID" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="PDO_NAME" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
            <column name="COLLABORATOR_SAMPLE_ID" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
            <column name="SAMPLE_INDEX" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="ALIQUOT_LSID" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
            <column name="COMPLETED_DATE" type="date">
                <constraints nullable="true"/>
            </column>
            <column name="rev" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-543-7" author="pshapiro">
        <preConditions onFail="MARK_RAN">
            <not>
                <columnExists tableName="product" columnName="use_automated_billing" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="product">
            <column name="use_automated_billing" type="number(1,0)"/>
        </addColumn>
        <addNotNullConstraint
                tableName="product"
                columnName="use_automated_billing"
                defaultNullValue="0" />
    </changeSet>

    <changeSet id="GPLIM-543-8" author="pshapiro">
        <preConditions onFail="MARK_RAN">
            <not>
                <columnExists tableName="product_aud" columnName="use_automated_billing" schemaName="athena"/>
            </not>
        </preConditions>
        <addColumn tableName="product_aud">
            <column name="use_automated_billing" type="number(1,0)"/>
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-543-9" author="pshapiro">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="billing_requirement" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="billing_requirement" schemaName="athena">
            <column name="billing_requirement_id" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="product" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="attribute" type="varchar(255)"/>
            <column name="operator" type="varchar(30)"/>
            <column name="value" type="float"/>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-543-10" author="pshapiro">
        <preConditions onFail="MARK_RAN">
            <not>
                <sequenceExists sequenceName="SEQ_BILLING_REQUIREMENT" schemaName="athena"/>
            </not>
        </preConditions>
        <createSequence sequenceName="SEQ_BILLING_REQUIREMENT" startValue="1" schemaName="athena"/>
    </changeSet>

    <changeSet id="GPLIM-543-11" author="pshapiro">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="billing_requirement_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="billing_requirement_aud" schemaName="athena">
            <column name="billing_requirement_id" type="int"/>
            <column name="product" type="int"/>
            <column name="attribute" type="varchar(255)"/>
            <column name="operator" type="varchar(30)"/>
            <column name="value" type="float"/>
            <column name="rev" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-543-12" author="pshapiro">
        <preConditions>
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_billing_requirement" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_billing_requirement" baseTableSchemaName="athena"
                                 baseTableName="billing_requirement" baseColumnNames="product"
                                 referencedTableName="product" referencedColumnNames="product_id"/>
    </changeSet>

    <changeSet id="GPLIM-543-13" author="pshapiro">
        <preConditions>
            <not>
                <tableExists tableName="product_requirement_join_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="product_requirement_join_aud" schemaName="athena">
            <column name="rev" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="product" type="int"/>
            <column name="billing_requirement_id" type="int"/>
        </createTable>
        <addPrimaryKey schemaName="athena" tableName="product_requirement_join_aud" columnNames="rev, product, billing_requirement_id"/>
    </changeSet>

    <changeSet id="GPLIM-581.1" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <not>
                <sequenceExists sequenceName="SEQ_MATERIAL_TYPE" schemaName="athena"/>
            </not>
        </preConditions>
        <createSequence sequenceName="SEQ_MATERIAL_TYPE" schemaName="athena" startValue="1" incrementBy="10"/>
    </changeSet>

    <changeSet id="GPLIM-426.1" author="mcovarr">
        <preConditions>
            <columnExists columnName="billing_status" schemaName="athena" tableName="product_order_sample" />
        </preConditions>
        <dropColumn columnName="billing_status" schemaName="athena" tableName="product_order_sample" />
    </changeSet>


    <changeSet id="GPLIM-426.1_aud" author="mcovarr">
        <preConditions>
            <columnExists columnName="billing_status" schemaName="athena" tableName="product_order_sample_aud" />
        </preConditions>
        <dropColumn columnName="billing_status" schemaName="athena" tableName="product_order_sample_aud" />
    </changeSet>

    <changeSet id="GPLIM-426.2" author="mcovarr">
        <preConditions>
            <not>
                <columnExists columnName="delivery_status" schemaName="athena" tableName="product_order_sample" />
            </not>
        </preConditions>
        <addColumn tableName="product_order_sample" schemaName="athena">
            <column name="delivery_status" type="varchar(40)" />
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-426.2_aud" author="mcovarr">
        <preConditions>
            <not>
                <columnExists columnName="delivery_status" schemaName="athena" tableName="product_order_sample_aud" />
            </not>
        </preConditions>
        <addColumn tableName="product_order_sample_aud" schemaName="athena">
            <column name="delivery_status" type="varchar(40)" />
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-426.3" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="product_order_sample" columnName="delivery_status" defaultNullValue="NOT_STARTED" />
    </changeSet>


    <changeSet id="GPLIM-636.1" author="mcovarr">
        <addColumn schemaName="athena" tableName="product_order">
            <column name="order_status_varchar" type="varchar(40)" />
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-636.1_aud" author="mcovarr">
        <addColumn schemaName="athena" tableName="product_order_aud">
            <column name="order_status_varchar" type="varchar(40)" />
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-636.2" author="mcovarr">
        <sql>
            update athena.product_order set order_status_varchar = case order_status
                when 0 then 'Draft'
                when 1 then 'Submitted'
                when 2 then 'Abandoned'
                when 3 then 'Complete'
            end
        </sql>
    </changeSet>

    <changeSet id="GPLIM-636.2_aud" author="mcovarr">
        <sql>
            update athena.product_order_aud set order_status_varchar = case order_status
                when 0 then 'Draft'
                when 1 then 'Submitted'
                when 2 then 'Abandoned'
                when 3 then 'Complete'
            end
        </sql>
    </changeSet>

    <changeSet id="GPLIM-636.3" author="mcovarr">
        <dropColumn schemaName="athena" tableName="product_order" columnName="order_status" />
    </changeSet>

    <changeSet id="GPLIM-636.3_aud" author="mcovarr">
        <dropColumn schemaName="athena" tableName="product_order_aud" columnName="order_status" />
    </changeSet>

    <changeSet id="GPLIM-636.4" author="mcovarr">
        <renameColumn schemaName="athena" tableName="product_order" oldColumnName="order_status_varchar" newColumnName="order_status" />
    </changeSet>

    <changeSet id="GPLIM-636.4_aud" author="mcovarr">
        <renameColumn schemaName="athena" tableName="product_order_aud" oldColumnName="order_status_varchar" newColumnName="order_status" />
    </changeSet>

    <changeSet id="GPLIM-636.5" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="product_order" columnName="order_status" />
    </changeSet>

    <changeSet id="GPLIM-636.6" author="mcovarr">
        <sql>
            ALTER TABLE athena.product_order
            add CONSTRAINT check_order_status
            CHECK (order_status IN ('Draft', 'Submitted', 'Abandoned', 'Complete'));
        </sql>
    </changeSet>



    <changeSet id="GPLIM-636a.1" author="mcovarr">
        <addColumn schemaName="athena" tableName="project_person">
            <column name="role_varchar" type="varchar(40)" />
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-636a.1_aud" author="mcovarr">
        <addColumn schemaName="athena" tableName="project_person_aud">
            <column name="role_varchar" type="varchar(40)" />
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-636a.2" author="mcovarr">
        <sql>
            update athena.project_person set role_varchar = case role
            when 0 then 'BROAD_SCIENTIST'
            when 1 then 'EXTERNAL'
            when 2 then 'PM_IN_CHARGE'
            when 3 then 'PM'
            when 4 then 'PDM'
            when 5 then 'BROAD_PI'
            when 6 then 'SCIENTIST'
            when 7 then 'UNSPECIFIED'
            end
        </sql>
    </changeSet>

    <changeSet id="GPLIM-636a.2_aud" author="mcovarr">
        <sql>
            update athena.project_person_aud set role_varchar = case role
            when 0 then 'BROAD_SCIENTIST'
            when 1 then 'EXTERNAL'
            when 2 then 'PM_IN_CHARGE'
            when 3 then 'PM'
            when 4 then 'PDM'
            when 5 then 'BROAD_PI'
            when 6 then 'SCIENTIST'
            when 7 then 'UNSPECIFIED'
            end
        </sql>
    </changeSet>

    <changeSet id="GPLIM-636a.3" author="mcovarr">
        <dropColumn schemaName="athena" tableName="project_person" columnName="role" />
    </changeSet>

    <changeSet id="GPLIM-636a.3_aud" author="mcovarr">
        <dropColumn schemaName="athena" tableName="project_person_aud" columnName="role" />
    </changeSet>

    <changeSet id="GPLIM-636a.4" author="mcovarr">
        <renameColumn schemaName="athena" tableName="project_person" oldColumnName="role_varchar" newColumnName="role" />
    </changeSet>

    <changeSet id="GPLIM-636a.4_aud" author="mcovarr">
        <renameColumn schemaName="athena" tableName="project_person_aud" oldColumnName="role_varchar" newColumnName="role" />
    </changeSet>

    <changeSet id="GPLIM-636a.5" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="project_person" columnName="role" />
    </changeSet>

    <changeSet id="GPLIM-636a.6" author="mcovarr">
        <sql>
            ALTER TABLE athena.project_person
            add CONSTRAINT check_role
            CHECK (role IN ('BROAD_SCIENTIST', 'EXTERNAL', 'PM_IN_CHARGE', 'PM', 'PDM', 'BROAD_PI', 'SCIENTIST', 'UNSPECIFIED'))
        </sql>
    </changeSet>



    <changeSet id="GPLIM-636b.1" author="mcovarr">
        <addColumn schemaName="athena" tableName="research_projectirb">
            <column name="irb_type_varchar" type="varchar(40)" />
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-636b.1_aud" author="mcovarr">
        <addColumn schemaName="athena" tableName="research_projectirb_aud">
            <column name="irb_type_varchar" type="varchar(40)" />
        </addColumn>
    </changeSet>

    <changeSet id="GPLIM-636b.2" author="mcovarr">
        <sql>
            update athena.research_projectirb set irb_type_varchar = case irb_type
            when 0 then 'PARTNERS'
            when 1 then 'FARBER'
            when 2 then 'MIT'
            when 3 then 'BROAD'
            when 4 then 'OTHER'
            end
        </sql>
    </changeSet>

    <changeSet id="GPLIM-636b.2_aud" author="mcovarr">
        <sql>
            update athena.research_projectirb_aud set irb_type_varchar = case irb_type
            when 0 then 'PARTNERS'
            when 1 then 'FARBER'
            when 2 then 'MIT'
            when 3 then 'BROAD'
            when 4 then 'OTHER'
            end
        </sql>
    </changeSet>

    <changeSet id="GPLIM-636b.3" author="mcovarr">
        <dropColumn schemaName="athena" tableName="research_projectirb" columnName="irb_type" />
    </changeSet>

    <changeSet id="GPLIM-636b.3_aud" author="mcovarr">
        <dropColumn schemaName="athena" tableName="research_projectirb_aud" columnName="irb_type" />
    </changeSet>

    <changeSet id="GPLIM-636b.4" author="mcovarr">
        <renameColumn schemaName="athena" tableName="research_projectirb" oldColumnName="irb_type_varchar" newColumnName="irb_type" />
    </changeSet>

    <changeSet id="GPLIM-636b.4_aud" author="mcovarr">
        <renameColumn schemaName="athena" tableName="research_projectirb_aud" oldColumnName="irb_type_varchar" newColumnName="irb_type" />
    </changeSet>

    <changeSet id="GPLIM-636b.5" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="research_projectirb" columnName="irb_type" />
    </changeSet>

    <changeSet id="GPLIM-636b.6" author="mcovarr">
        <sql>
            ALTER TABLE athena.research_projectirb
            add CONSTRAINT check_irb_type
            CHECK (irb_type IN ('PARTNERS', 'FARBER', 'MIT', 'BROAD', 'OTHER'))
        </sql>
    </changeSet>
    <changeSet id="GPLIM-543-14" author="pshapiro">
        <preConditions onFail="MARK_RAN">
            <columnExists tableName="WORK_COMPLETE_MESSAGE" schemaName="athena" columnName="ALIQUOT_LSID"/>
        </preConditions>
        <dropColumn tableName="WORK_COMPLETE_MESSAGE" columnName="ALIQUOT_LSID" schemaName="athena"/>
        <dropColumn tableName="WORK_COMPLETE_MESSAGE_AUD" columnName="ALIQUOT_LSID" schemaName="athena"/>
    </changeSet>

    <changeSet id="GPLIM-543-15" author="pshapiro">
        <preConditions onFail="MARK_RAN">
            <columnExists tableName="WORK_COMPLETE_MESSAGE" schemaName="athena" columnName="COLLABORATOR_SAMPLE_ID"/>
        </preConditions>
        <renameColumn tableName="WORK_COMPLETE_MESSAGE" schemaName="athena" oldColumnName="COLLABORATOR_SAMPLE_ID" newColumnName="SAMPLE_NAME"/>
        <renameColumn tableName="WORK_COMPLETE_MESSAGE_AUD" schemaName="athena" oldColumnName="COLLABORATOR_SAMPLE_ID" newColumnName="SAMPLE_NAME"/>
    </changeSet>

    <changeSet id="GPLIM-603-1" author="hrafal">
        <dropNotNullConstraint schemaName="athena" tableName="product_order" columnName="jira_ticket_key"/>
    </changeSet>

    <changeSet id="GPLIM-603-2" author="hrafal">
        <dropNotNullConstraint schemaName="athena" tableName="product_order" columnName="quote_id"/>
    </changeSet>

    <changeSet id="GPLIM-603-3" author="hrafal">
        <dropNotNullConstraint schemaName="athena" tableName="product_order" columnName="count"/>
    </changeSet>

    <changeSet id="GPLIM-603-4" author="hrafal">
        <dropNotNullConstraint schemaName="athena" tableName="product_order" columnName="product"/>
    </changeSet>

    <changeSet id="GPLIM-603-5" author="hrafal">
        <dropNotNullConstraint schemaName="athena" tableName="product_order" columnName="research_project"/>
    </changeSet>

    <!-- This changeSet needs to run on QA only -->
    <changeSet id="GPLIM-760.1" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <dbms type="oracle" />
            <sqlCheck expectedResult="1">select count(*) from ALL_CONSTRAINTS
                      where table_name = 'PRODUCT_ORDER_ADD_ON_AUD'
                      and constraint_name = 'SYS_C0010334' and owner = 'ATHENA'</sqlCheck>
        </preConditions>
        <dropNotNullConstraint schemaName="athena" tableName="product_order_add_on_aud" columnName="add_on"/>
    </changeSet>

    <!-- This changeSet needs to run on QA only -->
    <changeSet id="GPLIM-760.2" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <dbms type="oracle" />
            <sqlCheck expectedResult="1">select count(*) from ALL_CONSTRAINTS
                      where table_name = 'PRODUCT_ORDER_ADD_ON_AUD'
                      and constraint_name = 'SYS_C0010335' and owner = 'ATHENA'</sqlCheck>
        </preConditions>
        <dropNotNullConstraint schemaName="athena" tableName="product_order_add_on_aud" columnName="product_order"/>
    </changeSet>

    <changeSet id="GPLIM-794" author="mcovarr">
        <addNotNullConstraint schemaName="athena" tableName="product" columnName="part_number" />
    </changeSet>


    <!-- GPLIM-653 OnRisk Criteria to Product mapping -->

    <changeSet id="GPLIM-653.1" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="risk_criteria" schemaName="athena"/>
            </not>
        </preConditions>

        <createTable tableName="risk_criteria" schemaName="athena">
            <column name="risk_criteria_id" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="type" type="varchar(30)">
                <constraints nullable="false"/>
            </column>
            <column name="product" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="operator" type="varchar(30)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-653.2" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <not>
                <sequenceExists sequenceName="SEQ_RISK_CRITERIA" schemaName="athena"/>
            </not>
        </preConditions>
        <createSequence sequenceName="SEQ_RISK_CRITERIA" startValue="1" incrementBy="50" schemaName="athena"/>
    </changeSet>

    <changeSet id="GPLIM-653.3" author="mccrory">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="risk_criteria_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="risk_criteria_aud" schemaName="athena">
            <column name="risk_criteria_id" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="type" type="varchar(30)">
                <constraints nullable="true"/>
            </column>
            <column name="product" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="operator" type="varchar(30)">
                <constraints nullable="true"/>
            </column>
            <column name="value" type="float">
                <constraints nullable="true"/>
            </column>

            <column name="rev" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>

        </createTable>
    </changeSet>

    <changeSet id="GPLIM-653.4" author="mccrory">
        <preConditions>
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_risk_criteria_product" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_risk_criteria_product" baseTableSchemaName="athena"
                                 baseTableName="risk_criteria" baseColumnNames="product"
                                 referencedTableName="product" referencedColumnNames="product_id"/>
    </changeSet>

    <changeSet id="GPLIM-653.5" author="mccrory">
        <preConditions>
            <not>
                <tableExists tableName="product_risk_criteria_join_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="product_risk_criteria_join_aud" schemaName="athena">
            <column name="rev" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="product" type="int"/>
            <column name="risk_criteria_id" type="int"/>
        </createTable>
        <addPrimaryKey schemaName="athena" tableName="product_risk_criteria_join_aud" columnNames="rev, product, risk_criteria_id"/>
    </changeSet>

    <!-- GPLIM-828 RiskItems per ProductOrderSample mapping -->

    <changeSet id="GPLIM-828.1" author="mccrory">
        <preConditions>
            <not>
                <tableExists tableName="risk_item" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="risk_item" schemaName="athena">
            <column name="risk_item_id" type="int">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="product_order_sample" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="risk_criteria" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="compared_value" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
            <column name="remark" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
            <column name="occurred_date" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-828.2" author="mccrory">
        <preConditions>
            <not>
                <sequenceExists sequenceName="SEQ_RISK_ITEM" schemaName="athena"/>
            </not>
        </preConditions>
        <createSequence sequenceName="SEQ_RISK_ITEM" startValue="1" incrementBy="50" schemaName="athena"/>
    </changeSet>

    <changeSet id="GPLIM-828.3" author="mccrory">
        <preConditions>
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_risk_item_risk_criteria" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_risk_item_risk_criteria" baseTableSchemaName="athena"
                                 baseTableName="risk_item" baseColumnNames="risk_criteria"
                                 referencedTableName="risk_criteria" referencedColumnNames="risk_criteria_id"/>
    </changeSet>

    <changeSet id="GPLIM-828.4" author="mccrory">
        <preConditions>
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_risk_item_po_sample" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_risk_item_po_sample" baseTableSchemaName="athena"
                                 baseTableName="risk_item" baseColumnNames="product_order_sample"
                                 referencedTableName="product_order_sample" referencedColumnNames="product_order_sample_id"/>
    </changeSet>

    <changeSet id="GPLIM-828.5" author="mccrory">
        <preConditions>
            <not>
                <tableExists tableName="risk_item_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="risk_item_aud" schemaName="athena">
            <column name="risk_item_id" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="product_order_sample" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="risk_criteria" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="compared_value" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
            <column name="remark" type="varchar(255)">
                <constraints nullable="true"/>
            </column>
            <column name="occurred_date" type="TIMESTAMP">
                <constraints nullable="true"/>
            </column>
            <column name="rev" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet id="GPLIM-828.1" author="hrafal">
        <preConditions>
            <not>
                <tableExists tableName="po_sample_risk_join_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <createTable tableName="po_sample_risk_join_aud" schemaName="athena">
            <column name="rev" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="revtype" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="product_order_sample" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="risk_item_id" type="int">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addPrimaryKey schemaName="athena" tableName="po_sample_risk_join_aud" columnNames="rev, product_order_sample, risk_item_id"/>
    </changeSet>

    <changeSet id="GPLIM-828.2" author="hrafal">
        <preConditions>
            <not>
                <foreignKeyConstraintExists foreignKeyName="fk_po_sample_risk_join_aud" schemaName="athena"/>
            </not>
        </preConditions>
        <addForeignKeyConstraint constraintName="fk_po_sample_risk_join_aud" baseTableSchemaName="athena"
                                 baseTableName="po_sample_risk_join_aud" baseColumnNames="rev"
                                 referencedTableSchemaName="mercury"
                                 referencedTableName="rev_info" referencedColumnNames="rev_info_id"/>
    </changeSet>

    <changeSet id="GPLIM-69-1" author="hrafal">
        <modifyDataType tableName="risk_criteria_aud" schemaName="athena" columnName="value" newDataType="varchar(255)"/>
    </changeSet>

</databaseChangeLog>
