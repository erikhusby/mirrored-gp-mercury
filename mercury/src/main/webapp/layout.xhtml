<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ The Broad Institute
  ~ SOFTWARE COPYRIGHT NOTICE AGREEMENT
  ~ This software and its documentation are copyright 2011 by the
  ~ Broad Institute/Massachusetts Institute of Technology. All rights are
  ~ reserved.
  ~
  ~ This software is supplied without any warranty or guaranteed support
  ~ whatsoever. Neither the Broad Institute nor MIT can be responsible for its
  ~ use, misuse, or functionality.
  -->
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:sqltg="http://sequel.broadinstitute.org/tags"
      xmlns:vt="http://java.sun.com/jsf/composite/login">

<!--
  Base JSF page template to be used in the "template" attribure of
  ui:composition tags. Supports the following ui:define fragments:

    metadata: an f:metadata element, and may also include f:event elements
    title: text rendered in the window title
    header: top header rendered in the window content area
    content: page content wrapped by page template and navigation
  -->
<f:view contentType="text/html">
    <ui:insert name="metadata"/>
    <h:head>
        <!--<link href='http://fonts.googleapis.com/css?family=Lato|Arvo|PT+Sans|Cantarell|Open+Sans' rel='stylesheet' type='text/css'/>-->
        <h:outputStylesheet library="css" name="bootstrap.css"/>
        <h:outputStylesheet library="css" name="primefaces_bootstrap_fixes.css"/>
        <h:outputStylesheet library="css" name="styles.css"/>
        <title>Athena : <ui:insert name="title"/></title>
        <ui:insert name="head"/>
        <style type="text/css">
            body {
                padding-top: 60px;
                padding-bottom: 40px;
                font-size: 12px;
            }
        </style>
    </h:head>
    <h:body>

        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container-fluid">

                    <div class="brand"><p:graphicImage url="/images/broad_logo.png" alt="Broad Institute"/> <h:link outcome="/index" style="padding-left: 20px;">Athena</h:link></div>
                    <div class="nav-collapse pull-right">
                        <sqltg:isLoggedIn>
                            <h:form>
                                <h:commandLink action="#{securityBackingBean.logout}" value="Logout"/>
                            </h:form>
                        </sqltg:isLoggedIn>
                    </div>
                </div>
            </div>
        </div>

        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span12">
                    <ui:include src="navigation.xhtml"></ui:include>
                </div>

                <p:ajaxStatus id="ajaxStatus">
                    <f:facet name="start">
                        Loading...
                    </f:facet>
                    <f:facet name="complete">
                        <h:outputText value="" />
                    </f:facet>
                </p:ajaxStatus>

                <p:dialog modal="false" widgetVar="statusDialog" draggable="false" closable="false" maximizable="false" resizable="false" minimizable="false">
                    <p:outputPanel>
                        <p:graphicImage url="/images/spinner.gif" />
                        <h:outputText style="color: black; padding-left: 15px; padding-right: 15px;" value="Please&nbsp;wait..." />
                    </p:outputPanel>
                </p:dialog>
            </div>

            <div class="row-fluid">
                    <p:panel>
                            <f:facet name="header"><span id="panelTitle"><ui:insert name="title"/></span></f:facet>

                            <!-- show messages/errors -->
                            <p:messages severity="error" />
                            <p:messages severity="warn" />
                            <p:messages severity="info" />

                            <ui:insert name="body"/>
                    </p:panel>
            </div>

            <footer>
                Copyright Â© 2012 Eli and Edythe L. Broad Institute. All rights reserved. No unauthorized use or disclosure is permitted.
            </footer>

        </div>

        <ui:debug/>
    </h:body>
</f:view>
</html>
